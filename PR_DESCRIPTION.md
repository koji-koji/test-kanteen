# feat: test-kanteen v0.3.0 - LLM Integration & Simplified Architecture

## ğŸ¯ æ¦‚è¦

test-kanteenã®åˆæœŸå®Ÿè£…ã‹ã‚‰v0.3.0ã¸ã®é€²åŒ–ã€‚coverage-gapã‚³ãƒãƒ³ãƒ‰ã‚’å‰Šé™¤ã—ã€LLMæ´»ç”¨ã«ã‚ˆã‚‹é«˜ç²¾åº¦ãªãƒ†ã‚¹ãƒˆåˆ†æã¸ç§»è¡Œã—ã¾ã—ãŸã€‚

**Published to npm**: [@koji-koji/test-kanteen@0.3.0](https://www.npmjs.com/package/@koji-koji/test-kanteen)

## ğŸ“Š å¤‰æ›´ã‚µãƒãƒªãƒ¼

- **66ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´**: +8,905è¡Œ
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v0.1.0 â†’ v0.3.0
- **ãƒ†ã‚¹ãƒˆ**: 161å€‹ï¼ˆå…¨ã¦åˆæ ¼ï¼‰
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚µã‚¤ã‚º**: 40.9 kBï¼ˆåœ§ç¸®å¾Œï¼‰

## âœ¨ ä¸»ãªæ©Ÿèƒ½

### 1. ãƒ†ã‚¹ãƒˆè¦³ç‚¹ã‚«ã‚¿ãƒ­ã‚°ã®è‡ªå‹•ç”Ÿæˆ

```bash
npx kanteen analyze "tests/**/*.test.ts"
```

**å‡ºåŠ›ä¾‹**:
```
ASTParser
  parse
    âœ“ should parse simple JavaScript code
    âœ“ should parse TypeScript code
  parseMultiple
    âœ“ should parse multiple sources
```

### 2. é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹ã®æŠ½å‡º ğŸ†•

```bash
npx kanteen extract "src/**/*.ts"
```

**å‡ºåŠ›**:
- é–¢æ•°ä¸€è¦§ï¼ˆã‚·ã‚°ãƒãƒãƒ£ä»˜ãï¼‰
- ã‚¯ãƒ©ã‚¹ã¨ãƒ¡ã‚½ãƒƒãƒ‰
- JSON/Markdownå½¢å¼

### 3. LLMã‚’æ´»ç”¨ã—ãŸé«˜åº¦ãªåˆ†æ ğŸ†•

```bash
# 1. ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
npx kanteen extract "src/**/*.ts"
npx kanteen analyze "tests/**/*.test.ts"

# 2. LLMã§åˆ†æ
# aaa_test_kanteen/ ã®å‡ºåŠ›ã‚’LLMã«æ¸¡ã™
```

**ã§ãã‚‹ã“ã¨**:
- ãƒ†ã‚¹ãƒˆã•ã‚Œã¦ã„ãªã„é–¢æ•°ã®è‡ªå‹•æ¤œå‡ºï¼ˆé«˜ç²¾åº¦ï¼‰
- ãƒ†ã‚¹ãƒˆã®è³ªã®è©•ä¾¡ï¼ˆæ­£å¸¸ç³»/ç•°å¸¸ç³»ã®ãƒãƒ©ãƒ³ã‚¹ï¼‰
- ä¸è¶³ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®ææ¡ˆ
- ãƒ†ã‚¹ãƒˆå®Ÿè£…ã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆ

è©³ç´°: [docs/LLM_GUIDE.md](./docs/LLM_GUIDE.md)

## ğŸ”„ ç ´å£Šçš„å¤‰æ›´

### âŒ å‰Šé™¤: coverage-gapã‚³ãƒãƒ³ãƒ‰

**ç†ç”±**:
- ãƒãƒƒãƒãƒ³ã‚°ç²¾åº¦ãŒä½ã„ï¼ˆå®Œå…¨ä¸€è‡´ã®ã¿ï¼‰
- èª¤æ¤œçŸ¥ãŒå¤šã„ï¼ˆãƒ†ã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹ã®ã«"untested"ã¨åˆ¤å®šï¼‰
- LLMã®æ–¹ãŒåœ§å€’çš„ã«é«˜ç²¾åº¦

**ç§»è¡Œæ–¹æ³•**:

**Before (å‰Šé™¤):**
```bash
npx kanteen coverage-gap "src/**/*.ts" "tests/**/*.test.ts"
```

**After (æ¨å¥¨):**
```bash
npx kanteen extract "src/**/*.ts"
npx kanteen analyze "tests/**/*.test.ts"
# ä¸¡æ–¹ã®å‡ºåŠ›ã‚’LLMã«æ¸¡ã—ã¦åˆ†æ
```

## ğŸ“ ã‚³ãƒãƒ³ãƒ‰æ§‹æˆ

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `analyze` | ãƒ†ã‚¹ãƒˆè¦³ç‚¹ã‚«ã‚¿ãƒ­ã‚°ç”Ÿæˆ |
| `extract` | é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹æŠ½å‡º ğŸ†• |
| `init` | è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ |

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« â†’ AST Parser â†’ Test Analyzer â†’ Reporter â†’ Catalog
ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ« â†’ AST Parser â†’ Export Extractor â†’ JSON/Markdown
```

### ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

1. **AST Parser**: ESTreeæº–æ‹ ã®JavaScript/TypeScript ASTãƒ‘ãƒ¼ã‚µãƒ¼
2. **Test Analyzer**: ãƒ†ã‚¹ãƒˆæ§‹é€ ã¨è¦³ç‚¹ã‚’æŠ½å‡º
3. **Export Extractor**: é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹æƒ…å ±ã‚’æŠ½å‡º ğŸ†•
4. **Reporter**: ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªReporterãƒ‘ã‚¿ãƒ¼ãƒ³
5. **Catalog Generator**: æœ€çµ‚çš„ãªã‚«ã‚¿ãƒ­ã‚°ã‚’ç”Ÿæˆ

## ğŸ“ ä¸»è¦ãªå¤‰æ›´å±¥æ­´

### [v0.3.0] - 2025-11-15

#### ğŸš€ Added
- `extract`ã‚³ãƒãƒ³ãƒ‰: é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹ã®ä¸€è¦§æŠ½å‡º
- `docs/LLM_GUIDE.md`: LLMæ´»ç”¨ã‚¬ã‚¤ãƒ‰ï¼ˆ319è¡Œï¼‰
- `local_plan/`: ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

#### âŒ Removed (Breaking)
- `coverage-gap`ã‚³ãƒãƒ³ãƒ‰
- `CoverageGapAnalyzer`ã‚¯ãƒ©ã‚¹ï¼ˆ504è¡Œï¼‰
- `TestTargetExtractor`ã‚¯ãƒ©ã‚¹ï¼ˆ304è¡Œï¼‰
- é–¢é€£ã™ã‚‹å‹å®šç¾©ï¼ˆ207è¡Œï¼‰
- 40å€‹ã®ãƒ†ã‚¹ãƒˆ

#### ğŸ”§ Changed
- extractã¯é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ã®ã¿æŠ½å‡ºï¼ˆinterface/type/variableã¯é™¤å¤–ï¼‰
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚µã‚¤ã‚ºå‰Šæ¸›: 249.8 kB â†’ 186.8 kB
- ãƒ†ã‚¹ãƒˆæ•°: 201 â†’ 161ï¼ˆå…¨ã¦åˆæ ¼ï¼‰
- ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹: -1,349è¡Œï¼ˆç°¡ç´ åŒ–ï¼‰

### [v0.2.0] - 2025-11-12

#### ğŸš€ Added
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®ç›¸å¯¾è¡¨ç¤º
- Jesté¢¨ã®éšå±¤è¡¨ç¤º
- Simple modeï¼ˆ`--mode simple`ï¼‰
- 161å€‹ã®ãƒ†ã‚¹ãƒˆï¼ˆå˜ä½“ãƒ»çµ±åˆï¼‰

### [v0.1.0] - 2025-11-10

#### ğŸš€ Initial Release
- AST Parserï¼ˆESTreeæº–æ‹ ï¼‰
- Test Analyzer
- JSON/YAML/Markdown Reporter
- Jest/Vitest/Mochaå¯¾å¿œ

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
npm test
```

**ã‚«ãƒãƒ¬ãƒƒã‚¸**:
- Test Suites: 11 passed
- Tests: 161 passed
- Time: ~3s

**ãƒ†ã‚¹ãƒˆæ§‹æˆ**:
- å˜ä½“ãƒ†ã‚¹ãƒˆ: 8ã‚¹ã‚¤ãƒ¼ãƒˆï¼ˆ138ãƒ†ã‚¹ãƒˆï¼‰
- çµ±åˆãƒ†ã‚¹ãƒˆ: 3ã‚¹ã‚¤ãƒ¼ãƒˆï¼ˆ23ãƒ†ã‚¹ãƒˆï¼‰

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [README.md](./README.md) - åŸºæœ¬çš„ãªä½¿ã„æ–¹
- [LLMæ´»ç”¨ã‚¬ã‚¤ãƒ‰](./docs/LLM_GUIDE.md) ğŸ†• - LLMã‚’ä½¿ã£ãŸé«˜åº¦ãªåˆ†æ
- [ãƒ†ã‚¹ãƒˆè¨ˆç”»æ›¸](./docs/TEST_PLAN.md) - ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
- [è‡ªå·±åˆ†æãƒ¬ãƒãƒ¼ãƒˆ](./docs/SELF_ANALYSIS.md) - test-kanteenè‡ªèº«ã®åˆ†æ
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ©ãƒ³](./PLAN.md) - é–‹ç™ºè¨ˆç”»
- [npmå…¬é–‹ã‚¬ã‚¤ãƒ‰](./docs/NPM_PUBLISH_GUIDE.md) - å…¬é–‹æ‰‹é †

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

**ç›£æŸ»çµæœ**: âœ… è‰¯å¥½

- æœ¬ç•ªä¾å­˜é–¢ä¿‚: è„†å¼±æ€§ãªã—
- devDependencies: è»½å¾®ãªè„†å¼±æ€§ã‚ã‚Šï¼ˆãƒ†ã‚¹ãƒˆç’°å¢ƒã®ã¿ã€å®Ÿå®³ãªã—ï¼‰
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼: ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«ç­‰ã®æ‡¸å¿µã‚’ç¢ºèªæ¸ˆã¿ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«CLIãƒ„ãƒ¼ãƒ«ã®ãŸã‚å½±éŸ¿é™å®šçš„ï¼‰

## ğŸš€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install @koji-koji/test-kanteen
```

## ğŸ“¦ ä½¿ç”¨ä¾‹

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```bash
# ãƒ†ã‚¹ãƒˆè¦³ç‚¹ã‚«ã‚¿ãƒ­ã‚°ç”Ÿæˆ
npx kanteen analyze "tests/**/*.test.ts"

# é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹æŠ½å‡º
npx kanteen extract "src/**/*.ts"

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
npx kanteen init
```

### ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯ã«ä½¿ç”¨

```typescript
import { parseTests } from 'test-kanteen';

const catalog = await parseTests('./tests/**/*.test.ts', {
  framework: 'jest',
  reporters: ['json', 'markdown'],
  output: './catalog'
});
```

## ğŸ¯ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

1. **ãƒ†ã‚¹ãƒˆæ–‡æ›¸åŒ–**: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‹ã‚‰è‡ªå‹•çš„ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ
2. **LLMçµ±åˆ**: ãƒ†ã‚¹ãƒˆè¦³ç‚¹ã‚«ã‚¿ãƒ­ã‚°ã‚’LLMã®å…¥åŠ›ã¨ã—ã¦æ´»ç”¨
3. **ãƒ†ã‚¹ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼**: ãƒ†ã‚¹ãƒˆæ§‹é€ ã®å¯è¦–åŒ–ã«ã‚ˆã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼åŠ¹ç‡åŒ–
4. **CI/CDçµ±åˆ**: è‡ªå‹•ãƒ†ã‚¹ãƒˆåˆ†æã¨ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
5. **ãƒ†ã‚¹ãƒˆã‚®ãƒ£ãƒƒãƒ—æ¤œå‡º**: LLMã‚’ä½¿ã£ãŸé«˜ç²¾åº¦ãªæœªãƒ†ã‚¹ãƒˆé–¢æ•°ã®æ¤œå‡º

## ğŸ”— ãƒªãƒ³ã‚¯

- **npm**: https://www.npmjs.com/package/@koji-koji/test-kanteen
- **GitHub**: https://github.com/koji-koji/test-kanteen
- **Issues**: https://github.com/koji-koji/test-kanteen/issues

## ğŸ‘¥ Contributors

- [@koji-koji](https://github.com/koji-koji)
- Claude (AI pair programming)

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT

---

## ğŸ¤” ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚¤ãƒ³ãƒˆ

### ç¢ºèªã—ã¦ã»ã—ã„ã“ã¨

1. **ç ´å£Šçš„å¤‰æ›´ã®å¦¥å½“æ€§**: coverage-gapå‰Šé™¤ã®åˆ¤æ–­
2. **LLMæ´»ç”¨ã‚¬ã‚¤ãƒ‰**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®åˆ†ã‹ã‚Šã‚„ã™ã•
3. **extractæ©Ÿèƒ½**: é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹ã®ã¿ã®æŠ½å‡ºã§ååˆ†ã‹
4. **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 161ãƒ†ã‚¹ãƒˆã§ååˆ†ã‹

### è­°è«–ã—ãŸã„ã“ã¨

1. **å‘½å**: `extract`ã‚³ãƒãƒ³ãƒ‰ã®åå‰ã¯é©åˆ‡ã‹ï¼Ÿ
2. **å‡ºåŠ›å½¢å¼**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‡ºåŠ›å…ˆï¼ˆ`aaa_test_kanteen/`ï¼‰ã«ã¤ã„ã¦
3. **å°†æ¥ã®æ©Ÿèƒ½**: LLMçµ±åˆæ©Ÿèƒ½ã‚’CLIã«çµ„ã¿è¾¼ã‚€ã¹ãã‹ï¼Ÿ

---

**Ready for review** âœ…

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
