# Test Kanteen - LLM活用ガイド

---

**🤖 LLMへのコピペ用メッセージ**

```
このプロジェクトではtest-kanteenを使用しています。
以下のガイドを読んで、test-kanteenを理解し、積極的に活用してください。

test-kanteenは、テストコードを解析して「テスト観点カタログ」を自動生成するツールです。
あなた（LLM）は以下のカタログファイルを参照しながら、開発者のテスト設計・改善を支援してください：

- ASTカタログ: ./aaa_test_kanteen/catalog.json
- Runtimeカタログ: ./test-kanteen-runtime/runtime-catalog.json (設定されている場合)
- 比較レポート: ./test-kanteen-comparison/comparison.json (compare実行時)

【あなたの主な役割】
1. 新機能開発時: カタログを参照して必要なテストケースを提案
2. コードレビュー時: テストカバレッジの確認と改善提案
3. リファクタリング時: 既存テストへの影響を分析
4. 定期改善時: Gap分析結果からテスト品質の改善案を提示

以下に詳細なガイドがあります。必要に応じて参照してください。
```

**👆 上記をLLMにコピー&ペーストすることで、test-kanteen活用の準備が完了します**

---

## test-kanteenとは

テストコードを解析して「テスト観点カタログ」を自動生成するツール。
AST（静的解析）とRuntime（実行結果）の比較で、テストの質を継続的に改善します。

### 3つの中心価値

1. **プランニング・開発のコンテキスト**
   - テストカタログを設計・実装の指針として活用
   - 機能追加時の影響範囲を可視化

2. **テストケースのリファインループ**
   - 未実行テスト、動的生成テストの検出
   - テスト品質の継続的改善

3. **LLM統合による高度な分析**
   - テストギャップの検出と改善提案
   - テスト設計のレビュー

## LLMとしてのあなたの役割

### 主な支援内容

1. **新機能開発時**: カタログを参照して必要なテストケースを提案
2. **コードレビュー**: テストカバレッジの確認と改善提案
3. **リファクタリング**: 既存テストへの影響を分析
4. **定期改善**: Gap分析結果からテスト品質の改善案を提示

### カタログの場所

- **ASTカタログ**: `./aaa_test_kanteen/catalog.json`
  - 静的解析によるテスト構造
  - テストケース、アサーション、テストスイート階層
- **Runtimeカタログ**: `./test-kanteen-runtime/runtime-catalog.json`
  - テスト実行結果（status, duration, errors）
  - 実際に実行されたテストの情報
- **比較レポート**: `./test-kanteen-comparison/comparison.json`
  - AST×Runtimeの比較結果
  - 未実行テスト、動的生成テストの検出

## 使用例

### 新機能開発時

**開発者からの依頼例**:
「新機能Xのテストケースを提案してください」

**あなたの対応**:
1. `aaa_test_kanteen/catalog.json` を参照
2. 既存の類似機能のテストパターンを確認
3. 同じパターンで必要なテストケースを提案
4. エッジケース、エラーハンドリングも考慮

### コードレビュー時

**開発者からの依頼例**:
「このPRのテストをレビューしてください」

**あなたの対応**:
1. PRのテストコードを確認
2. カタログと比較してカバレッジをチェック
3. 命名規則の一貫性を確認
4. 不足しているテストケースを指摘

### リファクタリング時

**開発者からの依頼例**:
「この関数をリファクタリングしたいが、どのテストに影響しますか？」

**あなたの対応**:
1. カタログで該当関数を使用しているテストを検索
2. 影響範囲をリスト化
3. リファクタリング後に確認すべきテストを提示

### 定期改善時

**開発者からの依頼例**:
「テスト品質を改善したい」

**あなたの対応**:
1. `test-kanteen-comparison/comparison.json` を分析
2. 未実行テストの理由を推測（スキップ、条件付き実行など）
3. 動的生成テストの妥当性を評価
4. 具体的な改善案を提示

## プロジェクト固有の情報

<!-- ユーザーがカスタマイズする領域 -->

### テスト戦略

[ここにプロジェクトのテスト戦略を記載してください]

例:
- 単体テスト: 各関数・クラスの動作を検証
- 統合テスト: コンポーネント間の連携を検証
- E2Eテスト: ユーザーシナリオ全体を検証

### 重要な観点

[ここに重視すべきテスト観点を記載してください]

例:
- エッジケース処理
- エラーハンドリング
- パフォーマンス
- セキュリティ

### テスト規約

[ここにテストの命名規則やベストプラクティスを記載してください]

例:
- テスト名: "should [期待される動作]" 形式
- 1テスト1アサーション原則
- テストデータのセットアップはbeforeEachで

---

**詳細**: https://github.com/koji-koji/test-kanteen
**LLM活用ガイド**: https://github.com/koji-koji/test-kanteen/blob/main/docs/LLM_GUIDE.md
